è‹å·å¤§å­¦ä¼ åª’å­¦é™¢ ç‹æ±‡æ£®<br />è”ç³»æ–¹å¼ï¼šw1227686341ï¼ˆå¾®ä¿¡ï¼‰ 18896978797ï¼ˆç”µè¯ï¼‰
<a name="cVGeB"></a>

## æµç¨‹æ¦‚è¿°

ä¸»è¦åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼šè·å–æ¨æ–‡å’Œç¤¾äº¤æœºå™¨äººèº«ä»½é‰´å®š
<a name="p1Lnt"></a>

### è·å–æ¨æ–‡æ•°æ®

1. ç¡®å®šæ•°æ®èŒƒå›´ï¼ˆè·å–æ¨æ–‡çš„å…³é”®è¯ã€æ¨æ–‡ç±»å‹ã€æ¨æ–‡è¯­è¨€ã€æ—¶é—´èŒƒå›´ã€æ•°æ®å­—æ®µç­‰ç­‰ï¼‰

2. è°ƒæ•´Pythonè„šæœ¬å‚æ•°

3. è°ƒç”¨è„šæœ¬ï¼ˆæ³¨æ„è„šæœ¬ä¸­æ–­é—®é¢˜ï¼‰

4. æ•°æ®æ¸…æ´—ï¼ˆæ³¨æ„å­—ç¬¦ç¼–ç é—®é¢˜ï¼‰
   <a name="aaSSU"></a>
   
   ### ç¤¾äº¤æœºå™¨äººæ£€æµ‹

5. è¾“å…¥æ¨æ–‡æ–‡æ¡£

6. å°†æ¨æ–‡ä½œè€…IDè¾“å…¥è„šæœ¬

7. è°ƒç”¨Botomter APIï¼ˆæ³¨æ„è¯·æ±‚é€Ÿç‡ï¼‰

8. è¿”å›è¯¥ç”¨æˆ·æ£€æµ‹ç»“æœ
   <a name="GsQFl"></a>
   
   ## å¼€å‘ç¯å¢ƒå‡†å¤‡
   
   è‡³å°‘éœ€è¦è¾¾åˆ°ä»¥ä¸‹ç¯å¢ƒè¦æ±‚ï¼š
- Python 3.7+
- Jupyter Notebookï¼ˆé¦–é€‰ï¼‰/Visual Studio Codeï¼ˆé…ç½®äº†Jupyterç¯å¢ƒï¼‰
- è®¿é—®å›½é™…äº’è”ç½‘çš„å·¥å…·ğŸ‘€

Pythonå­¦ä¹ èµ„æºæ¨èï¼ˆåˆ«ä¹°è¯¾ï¼ŒPythonå­¦ä¹ èµ„æºå¤šå¦‚ç‰›æ¯›ï¼‰ï¼š

- å»–é›ªå³°çš„å®˜ç½‘ï¼š[https://www.liaoxuefeng.com/](https://www.liaoxuefeng.com/)ï¼ˆå…¥é—¨å¼ºæ¨ï¼Œéå¸¸é€‚åˆåˆå­¦è€…ï¼‰

- éª†æ˜Šçš„æ•™ç¨‹ï¼š[https://github.com/jackfrued/Python-100-Days](https://github.com/jackfrued/Python-100-Days)ï¼ˆè¿›é˜¶æ•™ç¨‹ï¼Œå…¨é¢ä¸”å›°éš¾ï¼‰

- å´”åº†æ‰çš„åšå®¢ï¼š[https://cuiqingcai.com/about/](https://cuiqingcai.com/about/)ï¼ˆçˆ¬è™«æ–¹å‘ï¼Œåšä¸»æ˜¯å¸…é”…ï¼‰

- ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹ç½‘é¡µç‰ˆï¼š[https://zh-v2.d2l.ai/index.html](https://zh-v2.d2l.ai/index.html)ï¼ˆæ·±åº¦å­¦ä¹ æ–¹å‘ï¼Œä¹¦æ˜¯å¥½ä¹¦ï¼Œä½†æ˜¯æ·±åº¦å­¦ä¹ æœ¬èº«å¾ˆéš¾ï¼‰

- Jack Cuiçš„åšå®¢ï¼š[https://cuijiahua.com/](https://cuijiahua.com/)ï¼ˆäººå·¥æ™ºèƒ½åº”ç”¨ï¼Œå›¾ä¸€ä¹è¿˜æ˜¯çœŸæ“ä½œéƒ½å€¼å¾—ä¸€çœ‹ï¼‰
  <a name="Cj5TA"></a>
  
  ### Pythonç¯å¢ƒé…ç½®
  
  Pythonå®˜ç½‘æä¾›äº†ä¸‹è½½å…¥å£ï¼Œé€‰æ‹©3.7åŠä»¥ä¸Šç‰ˆæœ¬å®‰è£…ã€‚è®°å¾—æ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©å®‰è£…ï¼ˆmacç³»ç»Ÿå†…ç½®äº†Python2ï¼Œä½†å¹¶ä¸å…¼å®¹æœ¬é¡¹ç›®ä»£ç ï¼ï¼‰ï¼Œæ­¤å¤„ä»¥WINç³»ç»Ÿä¸ºä¾‹ï¼Œè®¿é—®å¦‚ä¸‹ç½‘ç«™å¯ä»¥é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼š<br />[https://www.python.org/downloads/windows/](https://www.python.org/downloads/windows/)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654096651113-443de80c-9a08-4a3f-b91b-8d34e7befbda.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=758&id=ufbe1d2ce&margin=%5Bobject%20Object%5D&name=image.png&originHeight=947&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&size=277258&status=done&style=none&taskId=u833678af-26fb-472b-b191-c844773387e&title=&width=1536)<br />å·¦ä¾§ä¸ºç¨³å®šç‰ˆï¼Œå³ä¾§ä¸ºå¼€å‘ç‰ˆï¼ŒåŠŸèƒ½æ–°ä½†æ˜¯ä¸ä¸€å®šç¨³å®šï¼Œå¯èƒ½å‡ºbugã€‚<br />è¿™é‡Œé€‰æ‹©ç¨³å®šç‰ˆçš„Python3.9.13ï¼Œé€‰æ‹©Windows installerï¼ˆ64bitï¼‰ä¸‹è½½ã€‚<br />è¿›å…¥å®‰è£…åï¼Œå‹¾é€‰ä¸Šâ€œAdd Python 3.9 to PATHâ€ï¼Œç„¶åç›´æ¥â€œInstall Nowâ€å³å¯å¿«é€Ÿå®‰è£…ã€‚<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654096998964-67f6d449-df25-4ad9-917e-4e92b7924c02.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=408&id=u523f3444&margin=%5Bobject%20Object%5D&name=image.png&originHeight=510&originWidth=830&originalType=binary&ratio=1&rotation=0&showTitle=false&size=146830&status=done&style=none&taskId=u0b799638-e570-485d-8f74-a9e879ae0f9&title=&width=664)<br />æ³¨æ„ï¼Œä¸€å®šè¦å°†Pythonæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œå› ä¸ºåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå¤§é‡è°ƒç”¨å‘½ä»¤è¡Œå·¥å…·ï¼ˆå³CMDï¼ŒæŒ‰ä¸€ä¸‹é”®ç›˜çš„WINé”®å†è¾“å…¥cmdæŒ‰ä¸€ä¸‹enterå³å¯æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼‰<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654097294243-e11ac967-a7eb-4cf8-87d8-f997af1b5b59.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=506&id=u6299d1e7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=632&originWidth=1223&originalType=binary&ratio=1&rotation=0&showTitle=false&size=15701&status=done&style=none&taskId=u1272226a-9b72-42ab-9e16-95fcf53439c&title=&width=978.4)<br />å¦‚æœé¡ºåˆ©å®‰è£…å¹¶ä¸”é…ç½®å¥½äº†ç¯å¢ƒå˜é‡ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥pythonå³å¯è¿›å…¥pythonçš„å‘½ä»¤è¡Œå¼€å‘æ¨¡å¼ï¼š<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654097409974-5ef41614-d08a-4349-be09-5a6f51dea2a8.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=504&id=u38e45583&margin=%5Bobject%20Object%5D&name=image.png&originHeight=630&originWidth=1219&originalType=binary&ratio=1&rotation=0&showTitle=false&size=29412&status=done&style=none&taskId=u7eee53bf-de46-4e43-8a2b-20eff6d647d&title=&width=975.2)<br />åœ¨å‘½ä»¤è¡Œæ¨¡å¼å†™ä»£ç æ˜¯ä¸€ä»¶éå¸¸ä½æ•ˆçš„äº‹ï¼Œå› ä¸ºåªèƒ½è¾“å…¥ä¸€è¡Œæ‰§è¡Œä¸€è¡Œï¼Œå¹¶ä¸åˆ©äºè¿è´¯çš„ä»£ç é€»è¾‘çš„è¡¨ç¤ºã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ä¸€äº›IDEï¼ˆIntegrated development environmentï¼Œå¼€å‘é›†æˆç¯å¢ƒï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé›†æˆäº†è½¯ä»¶å¼€å‘ä¸­æ‰€éœ€çš„ç¼–ç¨‹è¯­è¨€è¿è¡Œç¯å¢ƒã€ä»£ç ç¼–è¾‘å™¨ã€æ’ä»¶ã€è°ƒè¯•å·¥å…·ç­‰åŠŸèƒ½çš„ä¸€å¥—ç»¼åˆçš„å¼€å‘ç¯å¢ƒï¼‰è¿›è¡Œå¼€å‘ã€‚<br />Pycharmæ— ç–‘æ˜¯ä¸šç•Œå…¬è®¤æœ€å¼ºPythonçš„IDEï¼Œå®˜ç½‘å¯ä»¥ä¸‹è½½å…è´¹ç‰ˆï¼š<br />[https://www.jetbrains.com/pycharm/download/#section=windows](https://www.jetbrains.com/pycharm/download/#section=windows)<br />ä¸ªäººå€¾å‘äºä½¿ç”¨VS Codeï¼ˆä¸è§£é‡Šï¼ŒVS Codeå¤©ä¸‹ç¬¬ä¸€ï¼‰ï¼ŒåŠŸèƒ½æå…¶å¼ºå¤§ï¼Œæ’ä»¶å¤šå¦‚ç‰›æ¯›ï¼Œå‡ ä¹å…¼å®¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ï¼ˆæ’ä»¶èŠ±æ ·ç™¾å‡ºï¼Œç”šè‡³å¯ä»¥æ‘¸é±¼ï¼‰ï¼Œè€Œä¸”çº¯å…è´¹ï¼Œä½†æ˜¯é…ç½®ç¨å¾®å¤æ‚ï¼Œæœ‰å…´è¶£å¯ä»¥å‚è€ƒä»¥ä¸‹æ–‡ç« è¿›è¡ŒVscodeé…ç½®ï¼š<br />[https://zhuanlan.zhihu.com/p/342873841](https://zhuanlan.zhihu.com/p/342873841)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654098167123-e03fbfde-0a6f-4fce-a9f5-bd642841d2d2.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=824&id=u15c730aa&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1030&originWidth=1919&originalType=binary&ratio=1&rotation=0&showTitle=false&size=161276&status=done&style=none&taskId=u45c3b56c-2aee-49ad-b4c0-e9ac296c2ea&title=&width=1535.2)
  <a name="JYnVM"></a>
  
  ### Jupyterç¯å¢ƒå®‰è£…
  
  å‰é¢ä¸¤ä¸ªIDEéƒ½æ˜¯æ¡Œé¢è½¯ä»¶ï¼Œä¸”åŠŸèƒ½å¤æ‚ã€é…ç½®ç¹çã€‚Jupyterå°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿç›´æ¥ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç½‘é¡µä¸­è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œéšç”¨éšé€€ï¼ŒåŠŸèƒ½ç²¾ç®€ã€‚<br />Jupyterå¯ä»¥é€šè¿‡pipå®‰è£…ã€‚pipæ˜¯Pythoné¢„ç½®çš„ä¸‹è½½å·¥å…·ï¼ŒPythonç¤¾åŒºæ´»è·ƒï¼Œæœ‰å¤§é‡å¼€å‘è€…æ¯å¤©æ— å¿å°†è‡ªå·±ç¼–å†™çš„ä»£ç åŒ…è´¡çŒ®ç»™Pythonï¼Œæœ‰äº†å¤§é‡æ— ç§çš„ç¨‹åºå‘˜ï¼Œæ‰æœ‰ä»Šå¤©çš„Pythonã€‚ç”¨pipå¯ä»¥å…è´¹ä¸‹è½½è¿™äº›ä»£ç åŒ…ã€‚<br />é¦–å…ˆï¼Œæµ‹è¯•ä¸€ä¸‹ç”µè„‘æ˜¯å¦é…ç½®å¥½äº†pipï¼Œåœ¨cmdä¸­è¾“å…¥â€œpipâ€ï¼Œå¼¹å‡ºå¦‚ä¸‹å†…å®¹å³è¯æ˜é…ç½®è‰¯å¥½ï¼š<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654099297491-f26ad9b6-872b-492a-b72d-0d9a18dfc8b8.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=510&id=u14fd84ce&margin=%5Bobject%20Object%5D&name=image.png&originHeight=638&originWidth=1218&originalType=binary&ratio=1&rotation=0&showTitle=false&size=70369&status=done&style=none&taskId=u0d6cee24-f734-4e0c-b0a8-b8ab908bf1e&title=&width=974.4)<br />pipå‘½ä»¤å¾ˆå¤šï¼Œæœ€å¸¸ç”¨çš„æ˜¯'intsall'ï¼Œå®‰è£…jupyterå¾ˆç®€å•ï¼Œè¾“å…¥ï¼š
  
  ```
  pip install jupyter
  ```
  
  ![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654099708858-5724e3e1-063c-4c93-83f9-07506bdd0ac6.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=509&id=u59643bee&margin=%5Bobject%20Object%5D&name=image.png&originHeight=636&originWidth=1219&originalType=binary&ratio=1&rotation=0&showTitle=false&size=122393&status=done&style=none&taskId=uc561567a-3109-4dd0-b8ed-f0c4720a2d1&title=&width=975.2)<br />ä¸å‡ºæ„æ–™ï¼Œå°†ä¼šè¿›å…¥ä¸€æ®µæ¼«é•¿çš„ä¸‹è½½é˜¶æ®µã€‚è¿™æ˜¯å› ä¸ºpipçš„æºæœåŠ¡å™¨åœ¨å¢ƒå¤–ï¼ŒåŠ ä¸Šæ¯å¤©å¤§é‡ç”¨æˆ·ä½¿ç”¨ï¼Œå…¶ä¼ è¾“é€Ÿåº¦å ªå¿§ã€‚å¥½æ¶ˆæ¯æ˜¯å›½å†…è®¸å¤šé«˜æ ¡å’Œå…¬å¸éƒ½å»ºç«‹äº†è‡ªå·±çš„é•œåƒå¹³å°ã€‚<br />æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨é…ç½®pipä¸‹è½½çš„åœ°å€ï¼Œåœ¨cmdè¾“å…¥ï¼š
  
  ```
  pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
  ```
  
  è¿™é‡Œä½¿ç”¨çš„æ˜¯æ¸…åå¤§å­¦æä¾›çš„é•œåƒï¼Œè¿˜æœ‰å¾ˆå¤šï¼Œæ›¿ä»£ç›¸åº”é“¾æ¥å³å¯ï¼š

- è±†ç“£ï¼š[http://pypi.douban.com/simple/](http://pypi.douban.com/simple/)

- ä¸­ç§‘å¤§ï¼š[https://pypi.mirrors.ustc.edu.cn/simple/](https://pypi.mirrors.ustc.edu.cn/simple/)

- é˜¿é‡Œäº‘ï¼š[https://mirrors.aliyun.com/pypi/simple/](https://mirrors.aliyun.com/pypi/simple/)

å®‰è£…å®ŒJupyteråï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥'jupyter notebook'ï¼Œå¦‚æœä¸è¡Œå°±ç”¨'jupyter-notebook'è¯•è¯•ï¼š<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654100494132-6a41fd67-d0b6-4d57-9997-a5f401d055bf.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=498&id=udc999a58&margin=%5Bobject%20Object%5D&name=image.png&originHeight=622&originWidth=1220&originalType=binary&ratio=1&rotation=0&showTitle=false&size=63980&status=done&style=none&taskId=u2ee04853-f850-4ae6-b85a-66fa1f12d92&title=&width=976)<br />éšåå‘½ä»¤è¡Œä¼šè‡ªåŠ¨æ­å»ºJupyteræœ¬åœ°æœåŠ¡å™¨ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¼¹å‡ºï¼Œç•Œé¢å¦‚å›¾æ‰€ç¤ºï¼š<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654100619889-e279309a-1355-4ab1-9ae2-8a25cad6eb0c.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=824&id=u6a3e12fa&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1030&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&size=57866&status=done&style=none&taskId=u81e9d5b7-88e7-434a-8400-41313648052&title=&width=1536)<br />è¿™æ ·å°±ä»£è¡¨æ•´ä¸ªç¯å¢ƒè¿è¡Œæ­£å¸¸ï¼Œå¯ä»¥è¿›è¡Œååç»­æ“ä½œäº†ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªjupyteræ–‡ä»¶ã€‚ï¼ˆæ³¨æ„ï¼Œjupyterçš„æ ¼å¼ä¸ºipynbï¼Œè€Œpythonå®˜æ–¹æŒ‡å®šçš„åç¼€ä¸ºpyï¼Œéœ€è¦åŒºåˆ«çš„æ˜¯ï¼Œjupyterè¦æ‰§è¡Œpyä»£ç éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ipynbæ–‡ä»¶ï¼Œå°†pyä»£ç å¤åˆ¶ç²˜è´´è¿›å»å†è¿è¡Œï¼‰<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654100912771-5490a314-d517-40b9-93f7-04877901ceb5.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=269&id=ue00c0ccb&margin=%5Bobject%20Object%5D&name=image.png&originHeight=336&originWidth=264&originalType=binary&ratio=1&rotation=0&showTitle=false&size=19115&status=done&style=none&taskId=ubdd76b54-e1f1-4817-b361-bc107f16f14&title=&width=211.2)<br />æˆ‘ä»¬éšä¾¿åœ¨æ–°å»ºçš„jupyterè®°äº‹æœ¬å½“ä¸­è¾“å…¥ä¸¤æ®µæ®µä»£ç ï¼Œç‚¹å‡»è¿è¡Œå³å¯ï¼Œä½ ä¼šå‘ç°ï¼ŒJupyteræ˜¯ä¸€è¡Œä¸€è¡Œï¼Œå³æ—¶åé¦ˆè¿è¡Œç»“æœçš„ï¼Œè¿™æ ·å°±ä¸ºä»£ç çš„è°ƒè¯•å¸¦æ¥äº†å·¨å¤§ä¼˜åŠ¿ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å¸¸ä½¿ç”¨jupyterçš„Pythonçš„åŸå› ï¼Œç”¨vscodeåªèƒ½ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ‰€æœ‰ä»£ç ï¼Œé€‰åˆ°å“ªè¡Œæ‰§è¡Œå“ªé‡Œï¼Œéå¸¸çµæ´»ã€‚<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654100980114-24771034-3e0a-441b-ac02-96f7b276e6f4.png#clientId=u542d8cd2-b863-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=750&id=ufc33c415&margin=%5Bobject%20Object%5D&name=image.png&originHeight=938&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&size=64708&status=done&style=none&taskId=ubf111cd6-d516-438c-94c4-ac5ceb84d87&title=&width=1536)<br />è‡³æ­¤ï¼ŒåŸºç¡€çš„å¼€å‘ç¯å¢ƒå·²ç»å®‰è£…å®Œæ¯•äº†ã€‚
<a name="JfUn4"></a>

### è¿›å…¥å›½é™…äº’è”ç½‘

åé¢è°ƒç”¨Twitter APIæ˜¯ä¸€å®šéœ€è¦ä½¿ç”¨å›½é™…äº’è”ç½‘çš„ï¼Œå¦‚æœä½ è¿˜ä¸ä¼šç§‘å­¦ä¸Šç½‘è¯·å’¨è¯¢ä½ çš„äº²æœ‹å¥½å‹ã€‚~~è¿™é‡Œä¹Ÿä¸æä¾›æ–¹æ³•ï¼š~~<br />~~Clashï¼š~~[~~https://wwe.lanzoup.com/b01u2exxe~~](https://wwe.lanzoup.com/b01u2exxe)~~ï¼ˆ5252ï¼‰~~<br />~~è®¢é˜…é“¾æ¥ï¼š~~[~~https://openit.ml/Clash.yaml~~](https://openit.ml/Clash.yaml)
<a name="Drg9x"></a>

## è·å–æ¨ç‰¹æ•°æ®

è·å–Twitteræ•°æ®è¾ƒä¸ºç®€å•ï¼Œå¹¶ä¸éœ€è¦å•ç‹¬ç¼–å†™çˆ¬è™«ï¼ŒTwitterå®˜æ–¹æä¾›äº†æ¥å£ï¼Œä¾›å¼€å‘è€…è°ƒç”¨ä»¥è·å–æ¨ç‰¹æ•°æ®ï¼ˆå­¦æœ¯ç‰ˆè¯·æŸ¥çœ‹Twitter API v2ï¼‰ã€‚<br />Twitter APIå®˜æ–¹æ–‡æ¡£ï¼š[https://developer.twitter.com/en/docs/twitter-api](https://developer.twitter.com/en/docs/twitter-api)<br />ç±»ä¼¼çš„ï¼Œå¾®åšä¹Ÿæœ‰å®˜æ–¹æä¾›çš„æ•°æ®åˆ†å‘å¹³å°ã€‚<br />å¾®çƒ­ç‚¹ï¼š[https://www.wrd.cn/login.shtml](https://www.wrd.cn/login.shtml)
<a name="DAUUD"></a>

### å‡†å¤‡

- Twitter  APIå­¦æœ¯ç‰ˆ
- å¿…è¦çš„Pythonä¾èµ–åº“ï¼ˆrequestsã€pandasã€datetimeã€unicodedataç­‰ï¼‰
- æ¢¯å­

è¿™é‡Œéœ€è¦ç€é‡å¼ºè°ƒä¸€ä¸‹Twitter APIï¼Œç†è®ºè€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§Twitter APIå®˜ç½‘çš„è¦æ±‚æŒ‰éœ€æ±‚ç”³è¯·å³å¯ã€‚ä½†åœ¨å®é™…æ“ä½œä¸­å¹¶ä¸ç†æƒ³ï¼Œä¸çŸ¥é“æ˜¯ç”±äºIPåœ°å€çš„åŸå› è¿˜æ˜¯é’ˆå¯¹ä¸­å›½å¤§é™†ç”¨æˆ·ï¼ŒTwitterå±¡æ¬¡æ‹’ç»æˆ‘çš„ç”³è¯·ï¼ˆä¹Ÿè®¸åªæ˜¯å­¦æœ¯ç‰ˆTwitter APIç”³è¯·ç‰¹åˆ«éš¾ï¼Ÿï¼‰ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œä¸€æ—¦ä¸€ä¸ªTwitterè´¦å·ç”³è¯·è¢«æ‹’åï¼Œå°±å†ä¹Ÿä¸èƒ½ç”³è¯·äº†ã€‚æœ€åè½¬è€Œæ‰¾åˆ°ä¸€ä¸ªç”³è¯·æˆåŠŸçš„åšä¸»å¹¶ç§Ÿç”¨å…¶APIï¼ˆæœ‰éœ€è¦å¯ä»¥è”ç³»ï¼Œå¾®ä¿¡gggs1024ï¼Œéå¹¿å‘Šï¼‰ã€‚è¿™é‡Œå»ºè®®å¤§å®¶è”ç³»è‡ªå·±æµ·å¤–ç•™å­¦çš„æœ‹å‹ä»£ä¸ºè‡ªå·±ç”³è¯·ï¼Œå¯èƒ½ä¼šå®¹æ˜“çš„å¤šã€‚<br />ä¾èµ–åº“å®‰è£…å¾ˆç®€å•ï¼Œç›´æ¥'pip install xxx'å³å¯ã€‚æ¢¯å­ä¸è§£é‡Šã€‚
<a name="SzNYK"></a>

### è„šæœ¬è§£é‡Š

è°ƒç”¨Twitter APIéœ€è¦æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªPythonè„šæœ¬ï¼Œè„šæœ¬çš„æ ¸å¿ƒåŠŸèƒ½æ— éå°±æ˜¯ç”¨Pythonåˆ›å»ºHTTPè¯·æ±‚ï¼Œå¾—åˆ°å“åº”æ•°æ®å¹¶è¿›è¡Œä¸€å®šçš„æ ¼å¼åŒ–å¹¶ä¿å­˜åœ¨æœ¬åœ°ã€‚<br />è¿™é‡Œæä¾›ä¸€ä¸ªæˆ‘å…ˆå‰ç¼–å†™çš„ä¸€ä¸ªè„šæœ¬ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç®€è¦çš„è¯´æ˜ã€‚
<a name="jlWeU"></a>

#### Pythonåº“ä¾èµ–

```python
# ä¾èµ–åº“ï¼ŒæŒ‰ç…§æ‰€åˆ—ï¼Œpipå®‰è£…å³å¯
import requests
import os
import json
import pandas as pd
import csv
import datetime
import dateutil.parser
import unicodedata
import time
```

<a name="GBLgQ"></a>

#### å‡½æ•°è§£é‡Š

è„šæœ¬ä½¿ç”¨äº†å‡½æ•°å¼ç¼–ç¨‹çš„åŸºæœ¬æ€æƒ³ï¼Œå°†æ ¸å¿ƒåŠŸèƒ½æŠ½ç¦»å‡ºæ¥ï¼Œç¼–å†™ä¸ºåŠŸèƒ½å•ä¸€çš„å‡½æ•°ï¼Œä»¥ä¾¿äºåæœŸè°ƒç”¨ï¼ŒåŒæ—¶ä¾¿äºç†è§£ã€‚

```python
# è¿”å›Twitter APIå¯†é’¥ï¼ˆéœ€è¦å­¦æœ¯ç‰ˆï¼‰
def auth(token):
    return token

# åˆ›å»ºHTTPè¯·æ±‚å¤´
def create_headers(bearer_token):
    headers = {"Authorization": "Bearer {}".format(bearer_token)}
    return headers

# åˆ›å»ºè¯·æ±‚åœ°å€
def create_url(keyword, start_date, end_date, max_results = 10):

    # æ‰€è°ƒç”¨çš„Twitter APIç»ˆç«¯ï¼Œæ ¹æ®éœ€æ±‚è€Œå®šï¼Œè¯¦è§Twitter APIå®˜æ–¹æ–‡æ¡£
    search_url = "https://api.twitter.com/2/tweets/search/all" 

    # è¯·æ±‚å‚æ•°ï¼Œæ­¤å¤„éœ€è¦æ ¹æ®è‡ªå·±éœ€æ±‚è°ƒæ•´ï¼Œè¯¦è§Twitter APIå®˜æ–¹æ–‡æ¡£
    query_params = {'query': keyword, # æŸ¥è¯¢å…³é”®è¯
                    'start_time': start_date, # å¼€å§‹æ—¥æœŸ
                    'end_time': end_date, # ç»“æŸæ—¥æœŸ
                    'max_results': max_results, # è¯·æ±‚æ•°é‡
                    'expansions': 'author_id,in_reply_to_user_id,geo.place_id', # æ‹“å±•ä¿¡æ¯
                    'tweet.fields': 'id,text,author_id,in_reply_to_user_id,geo,conversation_id,created_at,lang,public_metrics,referenced_tweets,reply_settings,source', # æ¨æ–‡ä¿¡æ¯å­—æ®µ
                    'user.fields': 'id,name,username,created_at,description,entities,location,pinned_tweet_id,profile_image_url,protected,public_metrics,verified,url,withheld', # ç”¨æˆ·ä¿¡æ¯å­—æ®µ
                    'place.fields': 'full_name,id,country,country_code,geo,name,place_type', # åœ°ç†ä¿¡æ¯å­—æ®µ
                    'next_token': {} # ä¸‹ä¸€é˜¶æ®µçš„å¯†é’¥ï¼Œå› ä¸ºä¸€æ¬¡è¯·æ±‚å¹¶ä¸èƒ½è¿”å›æ‰€æœ‰æ¨æ–‡ï¼Œæ‰€æœ‰æ¯æ¬¡è¯·æ±‚å¸¦ä¸Šnext_tokenå³å¯æ¥ç»­ä¸Šæ¬¡æŸ¥è¯¢çš„ä½ç½®ï¼ŒæŒ‰é¡ºåºå¾—åˆ°æ‰€éœ€æ¨æ–‡
                   }

    return (search_url, query_params)

# å‘èµ·è¯·æ±‚ï¼Œè¿”å›è°ƒç”¨ç»“æœ
def connect_to_endpoint(url, headers, params, next_token = None):
    params['next_token'] = next_token   #params object received from create_url function
    response = requests.request("GET", url, headers = headers, params = params)
    print("Endpoint Response Code: " + str(response.status_code))
    if response.status_code != 200:
        raise Exception(response.status_code, response.text)
        return response.json()

    # å°†ç»“æœæ·»åŠ åˆ°æœ¬åœ°csv
    def append_to_csv(json_response, fileName, count): # ä¼ å‚ä¸ºconnect_to_endpointæ‰€è¿”å›çš„ç»“æœï¼Œä»¥åŠä¿å­˜è·¯å¾„è¿˜æœ‰è®¡æ•°å™¨

        # è®¡æ•°å˜é‡ï¼Œä¸ç”¨ç®¡
        counter = 0

        # æ‰“å¼€csvæ–‡ä»¶æ–‡ä»¶å¹¶å‡†å¤‡å†™å…¥
        csvFile = open(fileName, "a", newline="", encoding='utf-8')
        csvWriter = csv.writer(csvFile)

        # éå†è¯·æ±‚åè¿”å›çš„æ•°æ®ã€‚è¿”å›æ•°æ®ä¸ºJSONç±»å‹
        for i in range(len(json_response['data'])):
            # æ¯æ¡tweetå’Œuser
            tweet = json_response['data'][i]
            for item in json_response['includes']['users']:
                if item['id'] == tweet['author_id']:
                    user = item
                    break
                    # è§£æJSONï¼Œå³æå–å‡ºæˆ‘ä»¬æ‰€éœ€çš„å­—æ®µ
                    tweet_id = tweet['id'] if tweet['id'] else 'None'
                    text = tweet['text']+ ' ' if tweet['text'] else 'None'
                    author_id = tweet['author_id'] if tweet['author_id'] else 'None'
                    name = user['name']+ ' ' if user['name'] else 'None'
                    username = user['username']+ ' ' if user['username'] else 'None'
                    if ('in_reply_to_user_id' in tweet):   
                        in_reply_to_user_id = tweet['in_reply_to_user_id']
                    else:
                        in_reply_to_user_id = "None"
                        if ('geo' in tweet):   
                            geo = tweet['geo']['place_id']
                        else:
                            geo = "None"
                            if ('conversation_id' in tweet):   
                                conversation_id = tweet['conversation_id']
                            else:
                                conversation_id = "None"
                                created_at = tweet['created_at'] if tweet['created_at'] else 'None'
                                lang = tweet['lang'] if tweet['lang'] else 'None'
                                like_count = tweet['public_metrics']['like_count'] if tweet['public_metrics']['like_count'] else 0
                                quote_count = tweet['public_metrics']['quote_count'] if tweet['public_metrics']['quote_count'] else 0
                                reply_count = tweet['public_metrics']['reply_count'] if tweet['public_metrics']['reply_count'] else 0
                                retweet_count = tweet['public_metrics']['retweet_count'] if tweet['public_metrics']['retweet_count'] else 0
                                if ('referenced_tweets' in tweet):
                                    referenced_tweets_id = tweet['referenced_tweets'][0]['id']
                                    tweet_type = tweet['referenced_tweets'][0]['type']
                                else:
                                    referenced_tweets_id = 'None'
                                    tweet_type = 'origin'          
                                    reply_settings = tweet['reply_settings'] if tweet['reply_settings'] else 'None'
                                    source = tweet['source'] if tweet['source'] else 'None'
                                    user_created_at = user['created_at'] if user['created_at'] else 'None'
                                    description = user['description']+ ' ' if user['description'] else 'None'
                                    if ('location' in user):
                                        location = user['location'] + ' '
                                    else:
                                        location = "None"        
                                        if ('profile_image_url' in user):   
                                            profile_image_url = user['profile_image_url']
                                        else:
                                            profile_image_url = "None"
                                            protected = user['protected'] if user['protected'] else 'False'
                                            followers_count = user['public_metrics']['followers_count'] if user['public_metrics']['followers_count'] else 0
                                            following_count = user['public_metrics']['following_count'] if user['public_metrics']['following_count'] else 0
                                            listed_count = user['public_metrics']['listed_count'] if user['public_metrics']['listed_count'] else 0
                                            tweet_count = user['public_metrics']['tweet_count'] if user['public_metrics']['tweet_count'] else 0
                                            verified = user['verified'] if user['verified'] else 'False'
                                            url = user['url'] if user['url'] else 'None'

                                            # å°†æå–çš„å­—æ®µæ•°æ®åˆå¹¶ä¸ºä¸€è¡Œ
                                            res = [tweet_id,text,author_id,name,username,in_reply_to_user_id,geo,conversation_id,created_at,lang,like_count,quote_count,reply_count,retweet_count,referenced_tweets_id,tweet_type,reply_settings,source,
                                                   user_created_at,description,location,profile_image_url,protected,followers_count,following_count,listed_count,tweet_count,verified,url]

                                            # å†™å…¥åˆ°csvæ–‡ä»¶å½“ä¸­
                                            csvWriter.writerow(res)
                                            counter += 1

                                            # å…³é—­æ–‡ä»¶å†™å…¥
                                            csvFile.close()

    # è¾“å‡ºæœ¬æ¬¡è¯·æ±‚æ‰€æ·»åŠ çš„æ¨æ–‡æ•°é‡
    print("# of Tweets added from this response: ", counter) 
```

<a name="gAxyA"></a>

#### å‚æ•°è§£é‡Š

```python
# å‚æ•°å¡«å†™

# è·å–apiå¯†é’¥
bearer_token = auth('AAAAAAAAAAAAAAAAAAAAABxIRQEAAAAAL7fzqTTYXbPyMEQRVjxkHx3VCRk%3DzsMFUXwoFFHb5vBoVvxIcLRsekLpjGmk1kr5DTRejmBCzPXv5Z')
# åˆ›å»ºHTTPè¯·æ±‚å¤´
headers = create_headers(bearer_token)
# æŸ¥è¯¢è¯­å¥(å¾ˆé‡è¦)ï¼ŒTwitter APIå®˜æ–¹æ–‡æ¡£æœ‰ä¸€å¥—ä¸“é—¨çš„æŸ¥è¯¢è¯­è¨€ï¼š
keyword = "#Tencent OR #Alibaba OR #Huawei OR #ByteDance OR #CATL lang:en"
# æŸ¥è¯¢çš„æ—¥æœŸï¼Œè¿™é‡Œæ³¨æ„ï¼Œstart_listå’Œend_listä¸ºä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå³2018-12-07T11:43:04.000Zåˆ°2019-01-06T00:00:00.000Zä¸ºä¸€ä¸ªæŸ¥è¯¢åŒºé—´ï¼Œä»¥æ­¤ç±»æ¨
start_list =    [
                 '2018-12-07T11:43:04.000Z',
                 '2019-01-13T00:00:00.000Z',
                 '2020-05-17T00:00:00.000Z',
                 '2021-01-01T00:00:00.000Z'
                ]

end_list =      [
                 '2019-01-06T00:00:00.000Z',
                 '2019-02-10T00:00:00.000Z',
                 '2020-05-31T00:00:00.000Z',
                 '2021-07-05T00:00:00.000Z'
                ]
# å•æ¬¡è¯·æ±‚çš„æœ€å¤§æ¨æ–‡æ•°é‡
max_results = 400
# è®¡æ•°å˜é‡ï¼Œç»Ÿè®¡æ‰€æœ‰æ¨æ–‡æ•°é‡ï¼Œä¸ç”¨ç®¡
total_tweets = 0

# åˆ›å»ºæ–‡ä»¶å¹¶å‡†å¤‡å†™å…¥ï¼Œè¯·ä½¿ç”¨csvæ ¼å¼
csvFile = open("data2.csv", "a", newline="", encoding='utf-8-sig') # æ­¤å¤„å¡«å†™è·¯å¾„
csvWriter = csv.writer(csvFile)

# è¾“å…¥è¡¨æ ¼å¤´
csvWriter.writerow(['tweet_id','text','author_id','name','username','in_reply_to_user_id','geo','conversation_id','created_at','lang','like_count','quote_count','reply_count','retweet_count','referenced_tweets_id','tweet_type','reply_settings','source',
                'user_created_at','description','location','profile_image_url','protected','followers_count','following_count','listed_count','tweet_count','verified','url'
                ])
csvFile.close()
```

<a name="YQ0on"></a>

#### è°ƒç”¨æµç¨‹

```python
# æ‰§è¡Œéƒ¨åˆ†

# éå†æ—¥æœŸ
for i in range(0,len(start_list)):

    # å‚æ•°
    count = 0 # è®°å½•æ•°é‡çš„å˜é‡
    flag = True # åˆ¤æ–­æ˜¯å¦ç»“æŸçš„å˜é‡
    next_token = None # ä¸‹ä¸€è½®è°ƒç”¨çš„å¯†é’¥ï¼Œå‰é¢å·²ç»è§£é‡Šè¿‡äº†
    counter = 0 # è®°å½•ç¬¬å‡ æ¬¡è¯·æ±‚çš„å˜é‡

    # åˆ¤æ–­æ˜¯å¦è·å–ç»“æŸï¼Œæœªç»“æŸåˆ™ä¸€ç›´å¾ªç¯æ‰§è¡Œ
    while flag:
        print("-------------------")
        print("Token: ", next_token)
        url = create_url(keyword, start_list[i],end_list[i], max_results)
        json_response = connect_to_endpoint(url[0], headers, url[1], next_token)
        tempStr = json.dumps(json_response)
        f = open(f'./archive1/{count}new_json{counter}.json', 'w') # åŸå§‹æ•°æ®å¤‡ä»½ï¼Œä»¥å…æ„å¤–
        f.write(tempStr)
        f.close()
        result_count = json_response['meta']['result_count']

        # å­˜åœ¨next_tokenè¯´æ˜è¿˜æ²¡è·å–å®Œ
        if 'next_token' in json_response['meta']:
            # ä¿å­˜å¥½next_token
            next_token = json_response['meta']['next_token']
            print("Next Token: ", next_token)
            if result_count is not None and result_count > 0 and next_token is not None:
                print("Start Date: ", start_list[i])
                append_to_csv(json_response, "data2.csv", count) # å†™å…¥csvæ–‡ä»¶
                count += result_count
                total_tweets += result_count
                print("Total # of Tweets added: ", total_tweets)
                print("-------------------")
                time.sleep(5) # æš‚åœå‡ ç§’ï¼Œä»¥å…è¶…å‡ºé€Ÿç‡é™åˆ¶   

        # ä¸å­˜åœ¨next_tokenè¯´æ˜è·å–å®Œäº†
        else:
            if result_count is not None and result_count > 0:
                print("-------------------")
                print("Start Date: ", start_list[i])
                append_to_csv(json_response, "data2.csv", count)
                count += result_count
                total_tweets += result_count
                print("Total # of Tweets added: ", total_tweets)
                print("-------------------")
                time.sleep(5)

            # å®Œæ¯•ï¼Œæ”¹å˜flag
            flag = False
            next_token = None
        time.sleep(5)
        counter += 1

print("Total number of results: ", total_tweets)
```

<a name="BGfCS"></a>

### è¿è¡Œæ³¨æ„äº‹é¡¹

- å…¨ç¨‹ä½¿ç”¨å›½é™…äº’è”ç½‘ã€‚

- é‡åˆ°ä¸­æ–­ï¼Œéœ€è¦åŠæ—¶è®°å½•å¥½æœ€åå†™å…¥çš„æ¨æ–‡çš„æ—¶é—´ï¼Œç„¶åè°ƒæ•´æ—¶é—´åŒºé—´çš„æ•°å€¼ï¼Œä»¥å…é‡å¤è·å–æ•°æ®ã€‚

- åŒæ—¶è®°å¾—æ–°å»ºä¸€ä¸ªcsvæ–‡ä»¶å¹¶ä¸”æ–°å»ºä¸€ä¸ªarchiveæ–‡ä»¶å¤¹ä»¥ä¾¿å¤‡ä»½ã€‚

- è¿˜æ²¡è·å–å®Œçš„é€‚åˆå°½é‡ä¸è¦æ‰“å¼€æ­£åœ¨å†™å…¥csvæ–‡ä»¶ï¼Œä»¥å…æ„å¤–ã€‚
  <a name="aC4Ek"></a>
  
  ## æ£€æµ‹ç¤¾äº¤æœºå™¨äºº
  
  è¦è¿›è¡Œç¤¾äº¤æœºå™¨äººé‰´å®šï¼Œæœ‰è®¸å¤šå·¥å…·å¯é€‰ï¼Œè¿™é‡Œä»¥ç”±ç¾å›½å°ç¬¬å®‰çº³å¤§å­¦ç¤¾äº¤åª’ä½“å®éªŒå®¤å¼€å‘çš„Botometerä¸ºä¾‹ï¼Œç®€è¦è¯´æ˜å…¶åŸç†ä»¥åŠä½¿ç”¨æ–¹å¼ã€‚
  <a name="z16JX"></a>
  
  ### åŸç†ç®€ä»‹
  
  ç”±ç¾å›½å°ç¬¬å®‰çº³å¤§å­¦ç¤¾äº¤åª’ä½“å®éªŒå®¤å¼€å‘çš„Botometeræ˜¯ç›®å‰å­¦ç•Œæ™®éé‡‡ç”¨çš„ä¸€ç§è¾ƒä¸ºæˆç†Ÿå’Œå‡†ç¡®çš„ç¤¾äº¤æœºå™¨äººé‰´åˆ«å·¥å…·ã€‚ç›®å‰æœ€æ–°çš„Botomter v4ç‰ˆæœ¬é€šè¿‡è®­ç»ƒå¤šä¸ªä¸“é—¨é’ˆå¯¹ä¸åŒç±»å‹çš„ç¤¾äº¤æœºå™¨äººçš„åˆ†ç±»å™¨ï¼ˆç¤¾äº¤æœºå™¨äººç§ç±»å¤šæ ·ï¼Œæœ‰æ”¿æ²»æœºå™¨äººã€æœ‰å¨±ä¹æœºå™¨äººã€æœ‰å•†ä¸šæœºå™¨äººï¼‰ï¼Œæ„å»ºäº†ä¸€ä¸ªèƒ½å¤Ÿæ›´å¥½åœ°æ³›åŒ–çš„æœºå™¨äººæ£€æµ‹ç³»ç»Ÿã€‚<br />è¿™é‡Œéœ€è¦è¡¥å……è¯´æ˜çš„æ˜¯ï¼ŒBotometeråˆ¤å®šçš„ç¤¾äº¤æœºå™¨äººæ›´å¤šæ—¶å€™å¹¶éçº¯è‡ªåŠ¨åŒ–ç”Ÿæˆå¹¶è¿ä½œçš„æœºå™¨äººï¼Œè€Œæ˜¯è‡³å°‘éƒ¨åˆ†é€šè¿‡è‡ªåŠ¨åŒ–ç¨‹åºæ§åˆ¶çš„Twitterè´¦æˆ·ï¼Œè¿™ç±»è´¦æˆ·é€šå¸¸ç”±æå‰è®¾å®šå¥½çš„è§¦å‘å™¨æˆ–è€…è„šæœ¬æ“çºµï¼Œåœ¨ä¸ªäººèµ„æ–™ã€æœ‹å‹ã€ç¤¾äº¤ç½‘ç»œç»“æ„ã€æ—¶é—´æ´»åŠ¨æ¨¡å¼ã€è¯­è¨€å’Œæƒ…ç»ªç­‰æ–¹é¢è¡¨ç°å‡ºå¼‚äºäººç±»çš„ç‰¹å¾ï¼ŒBotometerå°†è¿™äº›ç‰¹å¾ä½œä¸ºåˆ¤å®šçš„ä¾æ®ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥è‡ªå·±ä½¿ç”¨ä¸€äº›å·¥å…·æ¥æ§åˆ¶è‡ªå·±çš„Twitterè´¦æˆ·ã€‚<br />BOT LIBREï¼š[https://www.botlibre.org/](https://www.botlibre.org/)<br />Botometerçš„å·¥ä½œæµç¨‹å¤§è‡´ä¸ºï¼Œé€šè¿‡Twitter APIçš„é‰´æƒï¼Œå°†éœ€è¦æ£€æµ‹çš„è´¦æˆ·è¿åŒä»Twitterè·å–åˆ°çš„ç”¨æˆ·ç‰¹å¾ä¸€åŒå‘é€åˆ°Botomterçš„æœåŠ¡å™¨ï¼ŒBotomteræœåŠ¡å™¨ä¼šå°†å–å¾—çš„ç”¨æˆ·ç‰¹å¾ä¸ç³»ç»Ÿå†…å·²è®­ç»ƒå¥½çš„ç›‘ç£æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­æˆåƒä¸Šä¸‡ä¸ªå·²è¢«æ‰“ä¸Šæ ‡è®°çš„ä¾‹å­è¿›è¡Œæ¯”å¯¹ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå–å€¼åŒºé—´ä¸º[0, 5]çš„åˆ†æ•°ï¼Œåˆ†æ•°æ˜¾ç¤ºäº†ç›®æ ‡è´¦å·ä¸ºæœºå™¨äººçš„å¯èƒ½æ€§ï¼Œ0ä»£è¡¨ç€æœ€ä¸å¯èƒ½ä¸ºç¤¾äº¤æœºå™¨äººï¼Œ5ä»£è¡¨æœ€å¯èƒ½ä¸ºç¤¾äº¤æœºå™¨äººã€‚å½“æ ·æœ¬é‡è¾ƒå¤§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Botometer v4çš„è½»é‡ç‰ˆæœ¬BotometerLiteï¼Œå¾—åˆ°çš„æ˜¯ç»è¿‡ç²¾ç®€çš„åˆ†æ•°åŒºé—´[0, 1]ï¼ŒæŒ‰ç…§å…ˆå‰ç ”ç©¶çš„ç»éªŒï¼Œè¶…è¿‡0.5å³ä»æ¦‚ç‡ä¸Šè¢«è®¤ä¸ºæ˜¯æœºå™¨äººè´¦å·ã€‚
  <a name="koyIa"></a>
  
  ### å‡†å¤‡

- è´­ä¹°Botomter Pro APIï¼ˆå°è´µï¼Œå¤§æ¦‚50åˆ€æ¯æœˆï¼‰

- Twitter API v1.1ï¼ˆç”¨äºé‰´æƒï¼Œv2ç‰ˆæœ¬çš„Twitter APIæš‚ä¸æ”¯æŒï¼‰

- PandasåŒ…ï¼ˆPythonè¶…å¼ºçš„æ•°æ®åˆ†æå·¥å…·ï¼Œè¿™é‡Œä¸»è¦ç”¨äºæ“ä½œcsvè¡¨æ ¼ï¼‰

- Botomterçš„PythonåŒ…

- æ¢¯å­

Botomterå›¢é˜Ÿåœ¨Rapid APIç½‘ç«™è¿è¥è¿™ä¸ªé¡¹ç›®ï¼Œè¿™æ˜¯å…¶åœ°å€ï¼š<br />[https://rapidapi.com/OSoMe/api/botometer-pro](https://rapidapi.com/OSoMe/api/botometer-pro)<br />æ³¨å†Œå¹¶è´­ä¹°Botometer Proéœ€è¦ä½¿ç”¨VISAå¡ã€‚æ³¨æ„ï¼Œç”¨å®Œä»¥åè®°å¾—åŠæ—¶é€€è®¢ï¼Œå¦åˆ™ä¼šè‡ªåŠ¨æ‰£è´¹ï¼<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/22532099/1654156094555-9b81f085-8d5e-42db-b329-4ce39b1a0b84.png#clientId=u607e242b-958e-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=474&id=u5ad3e96f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=592&originWidth=1143&originalType=binary&ratio=1&rotation=0&showTitle=false&size=91471&status=done&style=none&taskId=ub8f0f4e5-d43b-4d41-8b3a-9f1293c76f6&title=&width=914.4)<br />å³ä½¿è´­ä¹°äº†ä»ç„¶æœ‰ä½¿ç”¨æ¬¡æ•°çš„é™åˆ¶ã€‚Botometer LIteå¯ä»¥ä¸€æ¬¡æ€§æ£€æµ‹100ä¸ªè´¦æˆ·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€å¤©æœ€å¤šå¯ä»¥æ£€æµ‹27280ä¸ªè´¦æˆ·ï¼Œæ‰€ä»¥äº‹å…ˆå¯¹æ•°æ®æŒ‰ç”¨æˆ·å»é‡å¾ˆé‡è¦ï¼Œå¯ä»¥èŠ‚çœèµ„æºã€‚
<a name="oiyPQ"></a>

### è„šæœ¬è§£é‡Š

<a name="O6a96"></a>

#### ä¾èµ–

```python
import pandas as pd
import csv
import json
import time
import botometer
import math
```

<a name="NsKPD"></a>

#### å‚æ•°

```python
# è¯»å–æ¨æ–‡æ•°æ®
df = pd.read_csv('./res.csv')
# BotometerAPIé…ç½®

# botometerAPI
rapidapi_key = "413fb65c04msh662dbc4d886621ap1aaed3jsnc6ce77e69865"
# Twitter APIçš„å¯†é’¥
twitter_app_auth = {
    'consumer_key': '5qDFi9HDTPYw9NoXGbgOmDgjH',
    'consumer_secret': 'ALHGUKpEvvShHLuA82zTAT85dbrHNKdrkXMfsoQ41WNpcuxuOE',
    'access_token': '1418747495828451331-37WC8wMOkpaozZAEl05okSFCV0uZ3m',
    'access_token_secret': '6CVAWOqHoqshkenxbsFv18ayx3H7d74Jtg3mnhs21DzWH',
  }

# åˆ›å»ºBotometerå¯¹è±¡
blt_twitter = botometer.BotometerLite(rapidapi_key=rapidapi_key, **twitter_app_auth)
```

<a name="YFOmD"></a>

#### å¿…è¦æ“ä½œ

```python
# æ•°æ®å»é‡å»ç©ºï¼ˆå¾ˆé‡è¦ï¼‰
df = df.dropna(subset=['author_id'])
df = df.drop_duplicates('author_id')
userList = list(df['author_id']) # å•ç‹¬æå‡ºauthor ID
count = len(userList) / 100
count = math.floor(count) # è®¡ç®—è¯·æ±‚æ¬¡æ•°
# å‡†å¤‡å†™å…¥æ–‡ä»¶
resFile = open('./boto.csv', "a", newline="", encoding='utf-8')
csvWriter = csv.writer(resFile)
csvWriter.writerow(['botscore', 'tweet_id', 'user_id'])
resFile.close() 
```

<a name="adD8s"></a>

#### å®šä¹‰å‡½æ•°

```python
# å†™å…¥csv
def writeToCsv(file, row):
    file = open(file, "a", newline="", encoding='utf-8')
    csvWriter = csv.writer(file)
    csvWriter.writerow(row)
    file.close()

# ä¸»å‡½æ•°
def run():
    for i in range(0, count): # å®ç°è®¡ç®—å¥½çš„æ¬¡æ•°
        print(f'æ­£åœ¨çˆ¬å–ç¬¬{i}è½®...')
        tempList = userList[i*100:(i+1)*100] # æˆªå–100ä¸ªç”¨æˆ·
        blt_scores = blt_twitter.check_accounts_from_user_ids(tempList) # è°ƒç”¨api
        tempStr = json.dumps(blt_scores)
        f = open(f'./archive1/new_json{i}.json', 'w') # å¤‡ä»½ç»“æœ
        f.write(tempStr)
        f.close()
        # å†™å…¥csv
        for item in blt_scores:
            botscore = item['botscore']
            tweet_id = item['tweet_id'] if item['tweet_id'] else 'None'
            user_id = item['user_id']
            tempRow = [botscore, tweet_id, user_id]
            writeToCsv('./boto.csv', tempRow)
        time.sleep(5) # æš‚åœä¸€ä¼šï¼Œä»¥å…è¶…é€Ÿ
```

```python
# æ‰§è¡Œä¸»å‡½æ•°
run()
```

<a name="n2S5R"></a>

### æ³¨æ„äº‹é¡¹

å¦‚æœå‘ç”Ÿä¸­æ–­ï¼Œè®°å¾—æ”¹å‚æ•°ï¼Œå¹¶æ–°å»ºcsvæ–‡ä»¶ï¼ˆå’Œè°ƒç”¨Twitter APIæ—¶ç±»ä¼¼ï¼‰ï¼Œä»¥å…é‡å¤ã€‚<br />é¡ºåˆ©çš„è¯ï¼Œæ‹¿åˆ°boto.csvæ–‡ä»¶åå†åˆ©ç”¨Excelçš„vlookupå‡½æ•°å°†åˆ†æ•°æ·»åŠ åˆ°åŸå§‹æ¨æ–‡æ•°æ®é‡Œé¢å³å¯ã€‚
